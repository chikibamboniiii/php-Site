<?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;

class ServiceController extends Controller
{
    /**
     * ÐžÑ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ ÑÐ¿Ð¸ÑÐºÐ° Ð²ÑÐµÑ… ÑƒÑÐ»ÑƒÐ³
     *
     * @return \Illuminate\View\View
     */
    public function index()
    {
        return view('pages.services');
    }

    /**
     * ÐžÑ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ð¾Ð¹ ÑƒÑÐ»ÑƒÐ³Ð¸ Ð¿Ð¾ slug
     *
     * @param string $slug
     * @return \Illuminate\View\View
     */
    public function show($slug)
    {
        // Ð”Ð°Ð½Ð½Ñ‹Ðµ ÑƒÑÐ»ÑƒÐ³ (Ð² Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ðµ Ð¸Ð· Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…)
        $services = [
            'manipulator' => [
                'title' => 'ÐÑ€ÐµÐ½Ð´Ð° Ð¼Ð°Ð½Ð¸Ð¿ÑƒÐ»ÑÑ‚Ð¾Ñ€Ð°',
                'price' => 'Ð¾Ñ‚ 80 BYN/Ñ‡Ð°Ñ',
                'description' => 'ÐŸÑ€Ð¾Ñ„ÐµÑÑÐ¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð°Ñ Ð°Ñ€ÐµÐ½Ð´Ð° Ð¼Ð°Ð½Ð¸Ð¿ÑƒÐ»ÑÑ‚Ð¾Ñ€Ð° Ð² ÐœÐ¸Ð½ÑÐºÐµ Ñ Ð¾Ð¿Ñ‹Ñ‚Ð½Ñ‹Ð¼ Ð¾Ð¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð¾Ð¼. Ð“Ñ€ÑƒÐ·Ð¾Ð¿Ð¾Ð´ÑŠÑ‘Ð¼Ð½Ð¾ÑÑ‚ÑŒ Ð´Ð¾ 10 Ñ‚Ð¾Ð½Ð½, Ð²Ñ‹Ð»ÐµÑ‚ ÑÑ‚Ñ€ÐµÐ»Ñ‹ Ð´Ð¾ 25 Ð¼ÐµÑ‚Ñ€Ð¾Ð².',
                'features' => [
                    'Ð“Ñ€ÑƒÐ·Ð¾Ð¿Ð¾Ð´ÑŠÑ‘Ð¼Ð½Ð¾ÑÑ‚ÑŒ Ð´Ð¾ 10 Ñ‚Ð¾Ð½Ð½',
                    'Ð’Ñ‹Ð»ÐµÑ‚ ÑÑ‚Ñ€ÐµÐ»Ñ‹ Ð´Ð¾ 25 Ð¼ÐµÑ‚Ñ€Ð¾Ð²',
                    'ÐžÐ¿Ñ‹Ñ‚Ð½Ñ‹Ðµ Ð¾Ð¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ñ‹',
                    'Ð Ð°Ð±Ð¾Ñ‚Ð° 24/7',
                    'Ð”Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ðµ Ñ†ÐµÐ½Ñ‹',
                    'Ð Ð°Ð±Ð¾Ñ‚Ð° Ð² ÑÑ‚ÐµÑÐ½ÐµÐ½Ð½Ñ‹Ñ… ÑƒÑÐ»Ð¾Ð²Ð¸ÑÑ…',
                ],
                'image' => 'https://images.unsplash.com/photo-1581094794329-c8112a89af12?w=800',
            ],
            'cargo' => [
                'title' => 'ÐŸÐµÑ€ÐµÐ²Ð¾Ð·ÐºÐ° Ð³Ñ€ÑƒÐ·Ð¾Ð²',
                'price' => 'Ð¾Ñ‚ 60 BYN/Ñ‡Ð°Ñ',
                'description' => 'ÐÐ°Ð´Ñ‘Ð¶Ð½Ð°Ñ Ð¿ÐµÑ€ÐµÐ²Ð¾Ð·ÐºÐ° Ð³Ñ€ÑƒÐ·Ð¾Ð² Ð¿Ð¾ ÐœÐ¸Ð½ÑÐºÑƒ Ð¸ ÐœÐ¸Ð½ÑÐºÐ¾Ð¹ Ð¾Ð±Ð»Ð°ÑÑ‚Ð¸. Ð Ð°Ð·Ð»Ð¸Ñ‡Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹ Ð³Ñ€ÑƒÐ·Ð¾Ð²Ð¸ÐºÐ¾Ð² Ð´Ð»Ñ Ð»ÑŽÐ±Ñ‹Ñ… Ð·Ð°Ð´Ð°Ñ‡.',
                'features' => [
                    'Ð Ð°Ð·Ð»Ð¸Ñ‡Ð½Ð°Ñ Ð²Ð¼ÐµÑÑ‚Ð¸Ð¼Ð¾ÑÑ‚ÑŒ',
                    'Ð”Ð¾ÑÑ‚Ð°Ð²ÐºÐ° Ð¿Ð¾ Ð³Ð¾Ñ€Ð¾Ð´Ñƒ Ð¸ Ð¾Ð±Ð»Ð°ÑÑ‚Ð¸',
                    'ÐŸÐ¾Ð³Ñ€ÑƒÐ·ÐºÐ° Ð¸ Ñ€Ð°Ð·Ð³Ñ€ÑƒÐ·ÐºÐ°',
                    'Ð¡Ñ‚Ñ€Ð°Ñ…Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð³Ñ€ÑƒÐ·Ð°',
                    'ÐžÑ‚ÑÐ»ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ðµ Ð³Ñ€ÑƒÐ·Ð°',
                    'ÐžÐ¿Ñ‹Ñ‚Ð½Ñ‹Ðµ Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»Ð¸',
                ],
                'image' => 'https://images.unsplash.com/photo-1587293852726-70cdb56c2866?w=800',
            ],
            'construction' => [
                'title' => 'Ð¡Ñ‚Ñ€Ð¾Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹',
                'price' => 'Ð¾Ñ‚ 100 BYN/Ñ‡Ð°Ñ',
                'description' => 'ÐšÐ¾Ð¼Ð¿Ð»ÐµÐºÑÐ½Ñ‹Ðµ ÑƒÑÐ»ÑƒÐ³Ð¸ Ð½Ð° ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… Ð¾Ð±ÑŠÐµÐºÑ‚Ð°Ñ…. ÐœÐ¾Ð½Ñ‚Ð°Ð¶, Ð´ÐµÐ¼Ð¾Ð½Ñ‚Ð°Ð¶, Ð¿Ð¾Ð´ÑŠÑ‘Ð¼ ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»Ð¾Ð².',
                'features' => [
                    'ÐœÐ¾Ð½Ñ‚Ð°Ð¶ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ð¹',
                    'ÐŸÐ¾Ð´ÑŠÑ‘Ð¼ Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»Ð¾Ð²',
                    'Ð”ÐµÐ¼Ð¾Ð½Ñ‚Ð°Ð¶Ð½Ñ‹Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹',
                    'ÐžÐ¿Ñ‹Ñ‚Ð½Ð°Ñ Ð±Ñ€Ð¸Ð³Ð°Ð´Ð°',
                    'Ð¡Ð¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾Ðµ Ð¾Ð±Ð¾Ñ€ÑƒÐ´Ð¾Ð²Ð°Ð½Ð¸Ðµ',
                    'Ð¡Ð¾Ð±Ð»ÑŽÐ´ÐµÐ½Ð¸Ðµ ÑÑ€Ð¾ÐºÐ¾Ð²',
                ],
                'image' => 'https://images.unsplash.com/photo-1504307651254-35680f356dfd?w=800',
            ],
            'special-equipment' => [
                'title' => 'ÐÑ€ÐµÐ½Ð´Ð° ÑÐ¿ÐµÑ†Ñ‚ÐµÑ…Ð½Ð¸ÐºÐ¸',
                'price' => 'Ð¾Ñ‚ 70 BYN/Ñ‡Ð°Ñ',
                'description' => 'Ð¨Ð¸Ñ€Ð¾ÐºÐ¸Ð¹ Ð¿Ð°Ñ€Ðº ÑÐ¿ÐµÑ†Ñ‚ÐµÑ…Ð½Ð¸ÐºÐ¸: ÑÐºÑÐºÐ°Ð²Ð°Ñ‚Ð¾Ñ€Ñ‹, Ð¿Ð¾Ð³Ñ€ÑƒÐ·Ñ‡Ð¸ÐºÐ¸, Ð°Ð²Ñ‚Ð¾ÐºÑ€Ð°Ð½Ñ‹ Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð½Ð¾Ð¹ Ð³Ñ€ÑƒÐ·Ð¾Ð¿Ð¾Ð´ÑŠÑ‘Ð¼Ð½Ð¾ÑÑ‚Ð¸.',
                'features' => [
                    'Ð­ÐºÑÐºÐ°Ð²Ð°Ñ‚Ð¾Ñ€Ñ‹',
                    'ÐŸÐ¾Ð³Ñ€ÑƒÐ·Ñ‡Ð¸ÐºÐ¸',
                    'ÐÐ²Ñ‚Ð¾ÐºÑ€Ð°Ð½Ñ‹',
                    'Ð‘ÑƒÐ»ÑŒÐ´Ð¾Ð·ÐµÑ€Ñ‹',
                    'Ð¢ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð¾Ð±ÑÐ»ÑƒÐ¶Ð¸Ð²Ð°Ð½Ð¸Ðµ',
                    'ÐžÐ¿Ñ‹Ñ‚Ð½Ñ‹Ðµ Ð¾Ð¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ñ‹',
                ],
                'image' => 'https://images.unsplash.com/photo-1597416578227-3e0537625d19?w=800',
            ],
        ];

        // ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ Ð½Ð°Ð»Ð¸Ñ‡Ð¸Ðµ ÑƒÑÐ»ÑƒÐ³Ð¸
        if (!isset($services[$slug])) {
            abort(404, 'Ð£ÑÐ»ÑƒÐ³Ð° Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð°');
        }

        $service = $services[$slug];
        $service['slug'] = $slug;

        return view('pages.service-detail', compact('service'));
    }

    /**
     * API endpoint Ð´Ð»Ñ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ ÑÐ¿Ð¸ÑÐºÐ° ÑƒÑÐ»ÑƒÐ³
     *
     * @return \Illuminate\Http\JsonResponse
     */
    public function apiIndex()
    {
        $services = [
            [
                'id' => 1,
                'slug' => 'manipulator',
                'title' => 'ÐÑ€ÐµÐ½Ð´Ð° Ð¼Ð°Ð½Ð¸Ð¿ÑƒÐ»ÑÑ‚Ð¾Ñ€Ð°',
                'price' => 'Ð¾Ñ‚ 80 BYN/Ñ‡Ð°Ñ',
                'icon' => 'ðŸ—ï¸',
            ],
            [
                'id' => 2,
                'slug' => 'cargo',
                'title' => 'ÐŸÐµÑ€ÐµÐ²Ð¾Ð·ÐºÐ° Ð³Ñ€ÑƒÐ·Ð¾Ð²',
                'price' => 'Ð¾Ñ‚ 60 BYN/Ñ‡Ð°Ñ',
                'icon' => 'ðŸš›',
            ],
            [
                'id' => 3,
                'slug' => 'construction',
                'title' => 'Ð¡Ñ‚Ñ€Ð¾Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹',
                'price' => 'Ð¾Ñ‚ 100 BYN/Ñ‡Ð°Ñ',
                'icon' => 'ðŸ¢',
            ],
            [
                'id' => 4,
                'slug' => 'special-equipment',
                'title' => 'ÐÑ€ÐµÐ½Ð´Ð° ÑÐ¿ÐµÑ†Ñ‚ÐµÑ…Ð½Ð¸ÐºÐ¸',
                'price' => 'Ð¾Ñ‚ 70 BYN/Ñ‡Ð°Ñ',
                'icon' => 'âš™ï¸',
            ],
        ];

        return response()->json([
            'success' => true,
            'data' => $services
        ]);
    }
}
